!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["kuan-vue-waterfall"]=t():n["kuan-vue-waterfall"]=t()}(window,function(){return function(e){var r={};function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=e,i.c=r,i.d=function(n,t,e){i.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(t,"a",t),t},i.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i.p="",i(i.s=14)}([function(n,t){n.exports=require("@babel/runtime/regenerator")},function(n,t,e){var r=e(9);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);(0,e(5).default)("14303d78",r,!0,{})},function(n,t,e){var r=e(11);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);(0,e(5).default)("98f11d3a",r,!0,{})},function(n,t,e){var r=e(13);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);(0,e(5).default)("edbe9c32",r,!0,{})},function(n,t,e){"use strict";n.exports=function(e){var a=[];return a.toString=function(){return this.map(function(n){var t=function(n,t){var e=n[1]||"",r=n[3];if(!r)return e;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(n){return"/*# sourceURL="+r.sourceRoot+n+" */"});return[e].concat(o).concat([i]).join("\n")}var a;return[e].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},a.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var e={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(e[i]=!0)}for(r=0;r<n.length;r++){var o=n[r];null!=o[0]&&e[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),a.push(o))}},a}},function(n,t,e){"use strict";function u(n,t){for(var e=[],r={},i=0;i<t.length;i++){var o=t[i],a=o[0],s={id:n+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):e.push(r[a]={id:a,parts:[s]})}return e}e.r(t),e.d(t,"default",function(){return h});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},i=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,a=0,c=!1,s=function(){},f=null,d="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(a,n,t,e){c=t,f=e||{};var s=u(a,n);return v(s),function(n){for(var t=[],e=0;e<s.length;e++){var r=s[e];(i=l[r.id]).refs--,t.push(i)}n?v(s=u(a,n)):s=[];for(e=0;e<t.length;e++){var i;if(0===(i=t[e]).refs){for(var o=0;o<i.parts.length;o++)i.parts[o]();delete l[i.id]}}}}function v(n){for(var t=0;t<n.length;t++){var e=n[t],r=l[e.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](e.parts[i]);for(;i<e.parts.length;i++)r.parts.push(g(e.parts[i]));r.parts.length>e.parts.length&&(r.parts.length=e.parts.length)}else{var o=[];for(i=0;i<e.parts.length;i++)o.push(g(e.parts[i]));l[e.id]={id:e.id,refs:1,parts:o}}}}function m(){var n=document.createElement("style");return n.type="text/css",i.appendChild(n),n}function g(t){var e,r,n=document.querySelector("style["+d+'~="'+t.id+'"]');if(n){if(c)return s;n.parentNode.removeChild(n)}if(p){var i=a++;n=o||(o=m()),e=b.bind(null,n,i,!1),r=b.bind(null,n,i,!0)}else n=m(),e=function(n,t){var e=t.css,r=t.media,i=t.sourceMap;r&&n.setAttribute("media",r);f.ssrId&&n.setAttribute(d,t.id);i&&(e+="\n/*# sourceURL="+i.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}.bind(null,n),r=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}var y,w=(y=[],function(n,t){return y[n]=t,y.filter(Boolean).join("\n")});function b(n,t,e,r){var i=e?"":r.css;if(n.styleSheet)n.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=n.childNodes;a[t]&&n.removeChild(a[t]),a.length?n.insertBefore(o,a[t]):n.appendChild(o)}}},function(n,t){n.exports=require("@babel/runtime/helpers/toConsumableArray")},function(n,t){n.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(n,t,e){"use strict";var r=e(1);e.n(r).a},function(n,t,e){(n.exports=e(4)(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*.water-fall-container {*/\n/*background: #f5f5f5;*/\n/*}*/\n.water-fall-wrapper {\n  position: relative;\n  margin: 0 auto;\n  height: 200px;\n}\n",""])},function(n,t,e){"use strict";var r=e(2);e.n(r).a},function(n,t,e){(n.exports=e(4)(!1)).push([n.i,".water-fall-item[data-v-c48ab8ae] {\n  left: 0;\n  top: 0;\n  position: absolute;\n  -webkit-transition: left 0.3s, right 0.3s, opacity 0.1s;\n  transition: left 0.3s, right 0.3s, opacity 0.1s;\n}\n",""])},function(n,t,e){"use strict";var r=e(3);e.n(r).a},function(n,t,e){(n.exports=e(4)(!1)).push([n.i,".water-fall-item > div,\n.water-fall-item img {\n  display: block;\n  width: 100%;\n}\n",""])},function(n,t,e){"use strict";e.r(t);var i,r,o=e(6),a=e.n(o),s=e(0),u=e.n(s),l=e(7),c=e.n(l);new Date;function f(e){return new Promise(function(n){var t;if(t="IMG"===e.tagName?e:e.querySelector("img")){if(t.complete)return void n()}else n();t.onload=n,t.onerror=n})}function d(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t.length<n?(t.push(0),d(n,t)):t}var p={props:{width:{type:String,default:"300px"},gap:{type:String,default:0},data:{type:Array,default:[]}},computed:{w:function(){var n=this.width.toString();return/^\d*$/.test(n)?"".concat(n,"px"):n},h:function(){var n=this.height.toString();return/^\d*$/.test(n)?"".concat(n,"px"):n}},data:function(){return{height:0,itemWidth:0,isReady:!1}},watch:{data:function(){this.initWaterFall()}},methods:{allReady:(r=c()(u.a.mark(function n(){var t,e,r,i,o;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(t=this.$children.sort(function(n,t){return n-t}),e=t.length,r=[],i=0;i<e;i++)o=this.$children[i].$el,r.push(f(o));return n.next=6,Promise.all(r);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}},n,this)})),function(){return r.apply(this,arguments)}),getColNum:function(){var n=this.$el.clientWidth,t=this.$children[0].$el.clientWidth,e=~~(n/t);return this.$refs.wraper.style.width="".concat(e*t,"px"),this.itemWidth=t,e},setPos:function(i){for(var o=this,n=this.$children.length,t=function(n){var t=Math.min.apply(Math,a()(i)),e=i.findIndex(function(n){return n===t}),r=o.$children[n].$el;i[e]+=r.clientHeight,r.style.left="".concat(o.itemWidth*e,"px"),r.style.top="".concat(t,"px"),o.height=Math.max.apply(Math,a()(i))},e=0;e<n;e++)t(e)},initWaterFall:function(){var r=this;!function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100;if("function"!=typeof n)throw new Error("必须传入一个函数作为参数");i&&clearTimeout(i),i=setTimeout(function(){n()},t)}(c()(u.a.mark(function n(){var t,e;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.$children.length){n.next=3;break}return console.warn("not found waterFallItem"),n.abrupt("return");case 3:return n.next=5,r.allReady();case 5:r.isReady=!0,t=r.getColNum(),e=d(t),r.setPos(e);case 9:case"end":return n.stop()}},n,this)})))}},mounted:function(){this.initWaterFall(),window.addEventListener("resize",this.initWaterFall)},beforeDestory:function(){window.removeEventListener("resize",this.initWaterFall)}};e(8);function h(n,t,e,r,i,o,a,s){var u,l="function"==typeof n?n.options:n;if(t&&(l.render=t,l.staticRenderFns=e,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(u=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(a)},l._ssrRegister=u):i&&(u=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(n,t){return u.call(t),c(n,t)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return{exports:n,options:l}}var v=h(p,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"water-fall-container",style:{height:n.height+"px"}},[e("div",{ref:"wraper",staticClass:"water-fall-wrapper",style:{opacity:n.isReady?1:.2}},[n._t("default")],2)])},[],!1,null,null,null).exports,m={props:{order:{type:Number,required:!0}},computed:{width:function(){var n=this.$parent.width;return n},gap:function(){var n=this.$parent.gap;return n}}},g=(e(10),e(12),h(m,function(){var n=this,t=n.$createElement;return(n._self._c||t)("div",{staticClass:"water-fall-item",style:{width:n.width,padding:n.gap}},[n._t("default")],2)},[],!1,null,"c48ab8ae",null).exports);e.d(t,"WaterFall",function(){return v}),e.d(t,"WaterFallItem",function(){return g});var y=function(n){n.component("water-fall",v),n.component("water-fall-item",g)};"undefined"!=typeof window&&window.Vue&&y(window.Vue);t.default={WaterFall:v,WaterFallItem:g,install:y}}])});